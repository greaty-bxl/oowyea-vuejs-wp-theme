(function(t){function e(e){for(var o,s,r=e[0],p=e[1],c=e[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(t[o]=p[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var p=n[r];0!==i[p]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},a=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],p=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var l=p;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),i=n.n(o);i.a},"3b5f":function(t,e,n){"use strict";var o=n("f1bc"),i=n.n(o);i.a},"47f6":function(t,e,n){"use strict";var o=n("4fff"),i=n.n(o);i.a},"4be8":function(t,e,n){"use strict";var o=n("a3ba"),i=n.n(o);i.a},"4fff":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("a026"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),t._l(t.pages,(function(e,o){return n("div",{key:o,staticClass:"page sections",attrs:{"data-state":o}},t._l(e,(function(e,o){return n("div",{key:e.post_name,staticClass:"section",attrs:{id:e.post_name,"data-permalink":e.permalink,"data-index":o,"data-title":e.post_title}},["index"===e.template?n("Index",{attrs:{post:e},on:{template_mounted:t.template_mounted}}):t._e(),"page"===e.template?n("Page",{attrs:{post:e},on:{template_mounted:t.template_mounted}}):t._e(),"template-demo1"===e.template?n("Demo1",{attrs:{post:e},on:{template_mounted:t.template_mounted}}):t._e(),"template-demo2"===e.template?n("Demo2",{attrs:{post:e},on:{template_mounted:t.template_mounted}}):t._e()],1)})),0)})),n("Footer")],2)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"header"}},[n("div",{staticClass:"clear"}),n("div",{attrs:{id:"header-logo"}}),n("div",{attrs:{id:"header-menu"}}),n("div",{attrs:{id:"right-panel"}},[n("div",{staticClass:"btn",attrs:{id:"burger-menu"}}),n("div",{staticClass:"btn",attrs:{id:"cart-sidebar"}}),n("div",{staticClass:"btn",attrs:{id:"user-sidebar"}}),n("div",{staticClass:"btn",attrs:{id:"search-sidebar"}}),n("div",{staticClass:"mask"}),n("div",{staticClass:"side-container",domProps:{innerHTML:t._s(t.sideEl)}})]),n("div",{staticClass:"clear"})])},r=[],p=(n("7db0"),{data:function(){return{sideEl:""}},mounted:function(){var t=this;console.log(this.wp.menus);var e=this.$;e(this.$el).find("#header-menu").html(this.wp.menus["header-menu"]);var n=this.$el;function o(t){var n=e(".section").first().innerWidth();e(t).width(n)}function i(){e("#right-panel .mask").animate({opacity:0},200,(function(){e("#right-panel .mask").css("display","none")})),e("#right-panel .side-container").animate({right:"-30vw"},400,"easeInOutQuart")}o(n),e(window).resize((function(){o(n)})),e(document).on("click","#right-panel > .btn",(function(n){n.preventDefault(),e("#right-panel .mask").css("display","block").animate({opacity:1},200),e("#right-panel .side-container").animate({right:0},400,"easeInOutQuart"),"burger-menu"==n.target.id&&(t.sideEl=t.wp.menus["burger-menu"]+t.wp.sidebars["burger-menu-area"]),"cart-sidebar"==n.target.id&&(t.sideEl=t.wp.sidebars["ecommerce-menu-area"]),"user-sidebar"==n.target.id&&(t.sideEl=t.wp.sidebars["user-menu-area"]),"search-sidebar"==n.target.id&&(t.sideEl=t.wp.sidebars["search-menu-area"])})),e(document).on("click","#right-panel > .mask",(function(t){t.preventDefault(),i()})),e("#right-panel .side-container").on("click","a",(function(){i()}))}}),c=p,l=(n("47f6"),n("2877")),u=Object(l["a"])(c,s,r,!1,null,null,null),d=u.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-wrap"},[n("div",{staticClass:"clear"}),n("h1",{domProps:{innerHTML:t._s(t.post.post_title)}}),n("p",[t._v("Index template (posts loop)")]),t._l(t.post.children,(function(e){return n("div",{key:e.ID},[n("h2",{domProps:{innerHTML:t._s(e.post_title)}}),n("p",{domProps:{innerHTML:t._s(e.post_content)}}),n("a",{attrs:{href:e.permalink}},[t._v("Read more")])])})),n("div",{staticClass:"clear"})],2)},m=[],h={components:{},props:{post:Object},mounted:function(){this.$emit("template_mounted")}},v=h,g=Object(l["a"])(v,f,m,!1,null,null,null),_=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-wrap"},[n("div",{staticClass:"clear"}),n("h1",{domProps:{innerHTML:t._s(t.post.post_title)}}),n("p",[t._v("Page template")]),n("div",{staticClass:"clear"})])},b=[],y={components:{},props:{post:Object},mounted:function(){this.$emit("template_mounted")}},x=y,T=Object(l["a"])(x,w,b,!1,null,null,null),$=T.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-wrap"},[n("div",{staticClass:"clear"}),n("h1",{domProps:{innerHTML:t._s(t.post.post_title)}}),n("p",{domProps:{innerHTML:t._s(t.post.post_content)}}),n("div",{staticClass:"clear"})])},H=[],k={components:{},props:{post:Object},mounted:function(){var t=this.$;t(this.$el).parents(".section").css({"background-color":this.post.metas.background_color[0]}),this.$emit("template_mounted")}},O=k,C=Object(l["a"])(O,j,H,!1,null,null,null),P=C.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section-wrap"},[n("div",{staticClass:"clear"}),n("div",{staticClass:"fixit"},[t._v("Fixed element")]),n("h1",{staticClass:"on-screen title-demo2"},[t._v(t._s(t.post.post_title))]),n("p",[t._v("Demo 2 template")]),n("div",{staticClass:"clear"})])},M=[],F=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto",a=t.$;function s(t,e,n,o,i){var s=a(e);s.each((function(e,s){!1===a(s).parent().hasClass("extra-wrapper-fixit")&&a(s).wrap('<div class="extra-wrapper-fixit"></div>');var r,p=a("#app").scrollTop(),c=a(t.$el).position().top+a("#app").scrollTop(),l=c+a(t.$el).outerHeight()-a("#app").outerHeight();r=(p<c||l<p)&&"limited"==i||"absolute"==i?0:-1*a(t.$el).position().top,a(s).parent().css({position:"fixed",top:a(t.$el).position().top+"px",width:a(t.$el).innerWidth(),height:a(t.$el).height(),overflow:"hidden","pointer-events":"none"}),a(s).css({position:"absolute",top:r,left:0,"margin-top":n,"margin-left":o,"pointer-events":"auto"})}))}s(t,e,n,o,i),a("#app").on("scroll",(function(){s(t,e,n,o,i)}))},S={components:{},props:{post:Object},mounted:function(){var t=this.$;this.$emit("template_mounted"),t(this.$el).css("height","200vh"),t(".title-demo2").on("enter-screen",(function(e){var n;n=1!=e.sens&&0!=e.sens||"links-and-anchors"==e.scrollingType?12:500,t(".title-demo2").css("opacity","0").stop().delay(n).animate({opacity:1},500)})),t(".title-demo2").on("leave-screen",(function(){t(".title-demo2").stop().css("opacity","0")})),F(this,".fixit","50vh","0")}},D=S,L=(n("3b5f"),Object(l["a"])(D,E,M,!1,null,null,null)),I=L.exports,z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section",attrs:{id:"footer"}},[n("div",{staticClass:"clear"}),t._v(" footer "),n("div",{staticClass:"clear"})])}],J={},q=J,R=(n("4be8"),Object(l["a"])(q,z,Q,!1,null,null,null)),W=R.exports,A=function(t){var e,n=t.$;if(t.wp.sections.length>1){var o=n('.section[data-permalink="'+window.location.href+'"]');n("#app")&&o&&(n("#app").data("scrolling","init-scrolltop"),n("#app").scrollTop(o.position().top+n("#app").scrollTop()),clearTimeout(e),e=setTimeout((function(){n("#app").data("scrolling","")}),15))}};function N(t){var e,n,o=0,i=t.$,a=0;function s(e){a||(a=1,i("#app").stop().animate({scrollTop:e+"px"},500,"easeInOutQuart").promise().then((function(){setTimeout((function(){a=0,i("#app").data("scrolling","");var e=i("#"+n).data("permalink");t.pushHistory(e)}),150)})))}function r(){var t=i("#app").scrollTop();t>o?i(".section").each((function(e,o){if(i(o).position().top+t>t&&i(o).position().top+t<t+i("#app").outerHeight()&&n!=i(o).attr("id")&&(n=i(o).attr("id"),t=i(o).position().top+t,s(t)),i(o).position().top+t<=t&&i(o).position().top+i(o).outerHeight()+t>t+i("#app").outerHeight()){var a=i(o).position().top+t+i(o).outerHeight();a-t-i("#app").outerHeight()<=i("#app").outerHeight()/2&&(t=i(o).position().top+i(o).outerHeight()-i("#app").outerHeight()+t,s(t))}})):t<=o&&i(".section").each((function(e,o){if(i(o).position().top+t<=t&&i(o).position().top+i(o).outerHeight()+t>t)if(n!=i(o).attr("id"))n=i(o).attr("id"),t=i(o).position().top+i(o).outerHeight()-i("#app").outerHeight()+t,s(t);else{var a=i(o).position().top;-1*a<=i("#app").outerHeight()/2&&(t=i(o).position().top+t,s(t))}})),o=t}i("#app").on("scroll",(function(){var t=i("#app").data("scrolling");a||t&&"scroll-sections"!=t?o=i("#app").scrollTop():(i("#app").data("scrolling","scroll-sections"),clearTimeout(e),e=setTimeout(r,50))}))}var U=N,B=(n("ac1f"),n("841c"),function(t){var e,n=t.$;function o(o,i){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i&&0===i.search(t.wp.options.siteurl))var s=1;if(s){o.preventDefault();var r=n('.section[data-permalink="'+i+'"]'),p=r.length;if(p){if(document.location.href==i&&a)return;var c;c=r.position().top+n("#app").scrollTop()>n("#app").scrollTop()?"100vh":"-100vh";var l=r.clone();l.css({position:"fixed",top:c,left:0,width:"100%","overflow-y":"scroll",opacity:0,"z-index":2e3}),r.parent().prepend(l),n("#app").data("scrolling","links-and-anchors"),a&&t.pushHistory(i),l.stop().animate({top:"0",opacity:1},500,"easeOutQuart",(function(){n("#app").scrollTop(r.position().top+n("#app").scrollTop()),l.remove(),clearTimeout(e),e=setTimeout((function(){n("#app").data("scrolling","")}),15)}))}else n(document).trigger({type:"new_page",href:i})}}n(document).on("click","a",(function(t){var e=n(t.target).prop("href");o(t,e)})),window.onpopstate=function(t){o(t,document.location.href,!1)}}),G=(n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),function(t,e,n){var o=t.$;function i(t,e,n){var o=new URL(t),i=o.searchParams;i.set(e,n),o.search=i.toString();var a=o.toString();return a}o.get(i(e,"add_to_json",1),(function(o){t.pushHistory(e);var i=JSON.parse(o);n(i)}))}),K=function(t,e,n){var o=t.$,i=o('[data-state="next"]');o('[data-state="next"]').css({position:"fixed",width:"100%",top:"0px",left:"0px",height:"100vh","overflow-y":"scroll",opacity:0,display:"block"}),o('[data-state="next"]').find(".section").hide(),o('[data-permalink="'+e+'"]').show(),i.animate({opacity:1},200,(function(){o("#app").scrollTop(0),n(),setTimeout((function(){o('[data-state="next"]').css({position:"relative",opacity:0,display:"none"})}),2)}))},V=n("53ca"),X={body:12,h1:24,h2:22,p:12},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=window.jquery;function n(){e.each(window.smartFonts,(function(t,n){e(t).css("font-size",(e("#app").innerHeight()+e("#app").innerWidth())/2/34/20*n+"px")}))}"object"===Object(V["a"])(window.smartFonts)&&null!==window.smartFonts||(window.smartFonts={}),window.smartFonts=Object.assign(X,window.smartFonts,t),n(),e(window).resize((function(){n()}))},Z=function(){var t=window.jquery,e=t("#app").scrollTop(),n=0,o="";function i(e){t(e).trigger({type:"leave-screen",sens:n,scrollingType:o})}function a(){t(".on-screen").each((function(e,a){var s=t(a).position().top+t("#app").scrollTop(),r=s+t(a).outerHeight(),p=t("#app").scrollTop(),c=t("#app").scrollTop()+t("#app").outerHeight();s>=p&&r<c?"in-screen"!==t(a).data("screen-event")&&(t(a).data("screen-event","in-screen"),t(a).trigger({type:"enter-screen",sens:n,scrollingType:o})):"out-screen"!==t(a).data("screen-event")&&(t(a).data("screen-event","out-screen"),i(a))}))}i(".on-screen"),t("#app").scroll((function(){o=t("#app").data("scrolling");var i=t("#app").scrollTop();n=i>e?1:i<e?-1:0,e=i,a()})),t(window).resize((function(){a()})),t(document).on("before_next_page",(function(){i(".on-screen")})),t(document).on("after_next_page",(function(){a()})),a()},tt={name:"App",data:function(){return{sections:[],pages:{current:{},next:{}}}},components:{Header:d,Index:_,Page:$,Demo1:P,Demo2:I,Footer:W},mounted:function(){var t=this;console.log("App mounted"),console.log(this.wp),this.pages["current"]=this.wp.sections,this.$(document).ready((function(e){console.log("JQuery Ready",e,t.ajaxurl),A(t),U(t),B(t),e(document).on("new_page",(function(n){G(t,n.href,(function(o){console.log(o),t.pages["next"]=o.sections,setTimeout((function(){e(document).trigger("before_next_page"),K(t,n.href,(function(){t.wp=o,t.pages["current"]=o.sections,setTimeout((function(){A(t),t.pages["next"]={},e(document).trigger("after_next_page")}),1)}))}),1)}))})),Z()}))},methods:{template_mounted:function(){Y()}}},et=tt,nt=(n("034f"),Object(l["a"])(et,i,a,!1,null,null,null)),ot=nt.exports,it=function(t){var e=this,n=this.$;history.pushState instanceof Function&&t!=document.location.href&&history.pushState({urlPath:t},"",t),setTimeout((function(){var o=n('.section[data-permalink="'+t+'"]').data("title");o&&n("title").text(o+" | "+e.wp.options.blogname)}),2)};o["a"].config.productionTip=!1,o["a"].prototype.$=window.jquery,o["a"].prototype.ajaxurl=window.ajaxurl,o["a"].prototype.wp=window.wp,o["a"].prototype.pushHistory=it,new o["a"]({render:function(t){return t(ot)}}).$mount("#app")},"85ec":function(t,e,n){},a3ba:function(t,e,n){},f1bc:function(t,e,n){}});
//# sourceMappingURL=app.js.map